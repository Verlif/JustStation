# 方法日志

方法日志的实现方法是基于Spring提供的AOP方式注入的，当标记方法的使用时触发日志。
方法日志主要的实现类有`LogAspect`和`LogHandler`，开发者可以通过实现`LogHandler`来完成自己的日志逻辑。

## 实现`LogHandler`

`LogHandler`有两个方法，一个是方法调用前触发的`onLog`方法，另一个是标记方法调用后回调的`onReturn`方法。框架内置了一个实现类，开发者自定义只需要实现此接口，并使用`@Component`注入Bean池即可。

```java
public interface LogHandler {

    /**
     * 日志记录
     *
     * @param method 标记的方法
     * @param logIt  标记的注解
     */
    void onLog(Method method, LogIt logIt);

    /**
     * 方法完成时
     *
     * @param method 标记的方法
     * @param logIt  标记的注解
     * @param o 返回值
     */
    void onReturn(Method method, LogIt logIt, Object o);
}
```

## 使用

方法日志的使用会用到`@LogIt`注解，用此注解标记方法即可。例如：

```java
    @LogIt(type = LogType.LOGIN, message = "有人登录啦啦啦")
    @Operation(summary = "登录")
    @PostMapping
    public BaseResult<?> login(@RequestBody LoginInfo loginInfo) {
        return loginService.login(loginInfo);
    }
```
